(()=>{"use strict";var t={};function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,n,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function c(e,o,a,i){var c=o&&o.prototype instanceof l?o:l,s=Object.create(c.prototype);return r(s,"_invoke",function(e,r,o){var a,i,c,l=0,s=o||[],f=!1,d={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function e(r,n){return a=r,i=0,c=t,d.n=n,u}};function v(e,r){for(i=e,c=r,n=0;!f&&l&&!o&&n<s.length;n++){var o,a=s[n],v=d.p,p=a[2];e>3?(o=p===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=v&&((o=e<2&&v<a[1])?(i=0,d.v=r,d.n=a[1]):v<p&&(o=e<3||a[0]>r||r>p)&&(a[4]=e,a[5]=r,d.n=p,i=0))}if(o||e>1)return u;throw f=!0,r}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&v(s,p),i=s,c=p;(n=i<2?t:c)||!f;){a||(i?i<3?(i>1&&(d.n=-1),v(i,c)):d.n=c:d.v=c);try{if(l=2,a){if(i||(o="next"),n=a[o]){if(!(n=n.call(a,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,i<2&&(i=0)}else 1===i&&(n=a["return"])&&n.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((n=(f=d.n<0)?c:e.call(r,d))!==u)break}catch(e){a=t,i=1,c=e}finally{l=1}}return{value:n,done:f}}}(e,a,i),!0),s}var u={};function l(){}function s(){}function f(){}n=Object.getPrototypeOf;var d=[][a]?n(n([][a]())):(r(n={},a,(function(){return this})),n),v=f.prototype=l.prototype=Object.create(d);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,r(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t}return s.prototype=f,r(v,"constructor",f),r(f,"constructor",s),s.displayName="GeneratorFunction",r(f,i,"GeneratorFunction"),r(v),r(v,i,"Generator"),r(v,a,(function(){return this})),r(v,"toString",(function(){return"[object Generator]"})),(e=function t(){return{w:c,m:p}})()}function r(t,e,n,o){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}r=function t(e,n,o,i){if(n)a?a(e,n,{value:o,enumerable:!i,configurable:!i,writable:!i}):e[n]=o;else{var c=function t(n,o){r(e,n,(function(t){return this._invoke(n,o,t)}))};c("next",0),c("throw",1),c("return",2)}},r(t,e,n,o)}function n(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(o,a){var i=t.apply(e,r);function c(t){n(i,o,a,c,u,"next",t)}function u(t){n(i,o,a,c,u,"throw",t)}c(void 0)}))}}function a(t){return i.apply(this,arguments)}function i(){i=o(e().m((function t(r){var n,o;return e().w((function(t){while(1)switch(t.p=t.n){case 0:t.p=0;t.n=1;return fetch(window._tutorobject.ajaxurl,{method:"POST",body:r});case 1:n=t.v;return t.a(2,n);case 2:t.p=2;o=t.v;tutor_toast(__("Operation failed","tutor-pro"),o,"error");case 3:return t.a(2)}}),t,null,[[0,2]])})));return i.apply(this,arguments)}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var c=n&&n.prototype instanceof l?n:l,s=Object.create(c.prototype);return u(s,"_invoke",function(r,n,o){var a,c,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function e(r,n){return a=r,c=0,u=t,d.n=n,i}};function v(r,n){for(c=r,u=n,e=0;!f&&l&&!o&&e<s.length;e++){var o,a=s[e],v=d.p,p=a[2];r>3?(o=p===n)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=v&&((o=r<2&&v<a[1])?(c=0,d.v=n,d.n=a[1]):v<p&&(o=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,d.n=p,c=0))}if(o||r>1)return i;throw f=!0,n}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&v(s,p),c=s,u=p;(e=c<2?t:u)||!f;){a||(c?c<3?(c>1&&(d.n=-1),v(c,u)):d.n=u:d.v=u);try{if(l=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=a["return"])&&e.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(f=d.n<0)?u:r.call(n,d))!==i)break}catch(e){a=t,c=1,u=e}finally{l=1}}return{value:e,done:f}}}(r,o,a),!0),s}var i={};function l(){}function s(){}function f(){}e=Object.getPrototypeOf;var d=[][n]?e(e([][n]())):(u(e={},n,(function(){return this})),e),v=f.prototype=l.prototype=Object.create(d);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,u(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t}return s.prototype=f,u(v,"constructor",f),u(f,"constructor",s),s.displayName="GeneratorFunction",u(f,o,"GeneratorFunction"),u(v),u(v,o,"Generator"),u(v,n,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),(c=function t(){return{w:a,m:p}})()}function u(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}u=function t(e,r,n,a){if(r)o?o(e,r,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[r]=n;else{var i=function t(r,n){u(e,r,(function(t){return this._invoke(r,n,t)}))};i("next",0),i("throw",1),i("return",2)}},u(t,e,r,n)}function l(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){l(a,n,o,i,c,"next",t)}function c(t){l(a,n,o,i,c,"throw",t)}i(void 0)}))}}function f(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=d(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function t(){};return{s:o,n:function e(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function t(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function e(){r=r.call(t)},n:function t(){var e=r.next();return i=e.done,e},e:function t(e){c=!0,a=e},f:function t(){try{i||null==r["return"]||r["return"]()}finally{if(c)throw a}}}}function d(t,e){if(t){if("string"==typeof t)return v(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}jQuery(document).ready((function(t){"use strict";var e=wp.i18n,r=e.__,n=e._x,o=e._n,i=e._nx;var u=document.getElementById("tutor-common-confirmation-modal");var l=document.getElementById("tutor-common-confirmation-form");t(document).on("click",".tutor-quiz-attempt-delete-btn",(function(e){e.preventDefault();var r=t(this);t.ajax({url:ajaxurl,type:"POST",data:{attempt_id:r.attr("data-attempt-id"),action:"treport_quiz_atttempt_delete"},beforeSend:function t(){r.addClass("updating-message")},success:function t(e){if(e.success){r.closest("tr").remove()}},complete:function t(){r.removeClass("updating-message")}})}));function d(t,e){var r=new URL(window.location.href);var n=r.searchParams;n.set(t,e);r.search=n.toString();n.set("paged",1);r.search=n.toString();return r.toString()}t(".tutor-report-category").on("change",(function(e){window.location=d("cat",t(this).val())}));t(".tutor-report-sort").on("change",(function(e){window.location=d("order",t(this).val())}));t(".tutor-report-date").on("change",(function(e){window.location=d("date",t(this).val())}));t(document).on("click",".tutor-report-search-btn",(function(e){window.location=d("search",t(".tutor-report-search").val())}));t(document).on("click",".tutor-report-search-action",(function(e){e.preventDefault();window.location=d("search",t(".tutor-report-search").val())}));t(document).on("click",".details-link",(function(e){e.preventDefault();if(t(this).hasClass("active")){t(this).removeClass("active")}else{t(this).addClass("active")}var r=t("#table-toggle-"+t(this).data("count"));if(r.hasClass("open")){r.removeClass("open")}else{r.addClass("open")}}));var v=document.querySelectorAll(".tutor-delete-recent-reviews");var p=document.getElementById("tutor-admin-reviews-table");var h=f(v),y;try{for(h.s();!(y=h.n()).done;){var m=y.value;if(m){m.onclick=function(){var t=s(c().m((function t(e){var r;return c().w((function(t){while(1)switch(t.n){case 0:r=e.currentTarget.dataset.id;if(l){l.elements.action.value="tutor_delete_review";l.elements.id.value=r}case 1:return t.a(2)}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}catch(t){h.e(t)}finally{h.f()}if(l){l.onsubmit=function(){var t=s(c().m((function t(e){var n,o,i,s,f;return c().w((function(t){while(1)switch(t.n){case 0:e.preventDefault();n=new FormData(l);o=l.querySelector("[data-tutor-modal-submit]");o.classList.add("is-loading");t.n=1;return a(n);case 1:i=t.v;if(u.classList.contains("tutor-is-active")){u.classList.remove("tutor-is-active");document.body.classList.remove("tutor-modal-open")}if(!i.ok){t.n=3;break}t.n=2;return i.json();case 2:s=t.v;if(s){if(p&&n.get("action")=="tutor_delete_review"){tutor_toast(r("Delete","tutor-pro"),r("Review has been deleted ","tutor-pro"),"success");if(p.rows.length<3){location.reload()}else{f=p.querySelector('a[data-id="'.concat(n.get("id"),'"]'));if(f){f.closest("tr").remove()}}}else{location.reload()}}else{tutor_toast(r("Failed","tutor-pro"),r("Review delete failed ","tutor-pro"),"error")}t.n=4;break;case 3:tutor_toast(r("Failed","tutor-pro"),r("Review delete failed ","tutor-pro"),"error");case 4:return t.a(2)}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))})();